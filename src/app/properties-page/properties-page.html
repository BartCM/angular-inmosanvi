<!-- FILTROS -->
<section class="mb-6 bg-white p-6 rounded-lg shadow-md">

  <h2 class="text-xl font-bold mb-4">Search Properties</h2>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">

    <!-- BUSCADOR -->
    <input
      type="text"
      class="border rounded px-3 py-2"
      placeholder="Search..."
      [ngModel]="search()"
      (ngModelChange)="search.set($event)"
    />

    <!-- FILTRO PROVINCIA -->
    <select
      class="border rounded px-3 py-2"
      [ngModel]="filterProvince()"
      (ngModelChange)="filterProvince.set($event)"
    >
      <option value="">All provinces</option>
      <option>Madrid</option>
      <option>Barcelona</option>
      <option>Valencia</option>
    </select>

  </div>

</section>


<!-- FORMULARIO (COMPONENTE HIJO) -->
<property-form (added)="addProperty($event)"></property-form>


<!-- LISTADO -->
<section class="mt-8">

  <h2 class="text-2xl font-bold text-gray-800 mb-6">Properties for Sale</h2>

  @if (filteredProperties().length === 0) {

    <p class="text-xl text-gray-500">No properties found.</p>

  } @else {

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">

      @for (property of filteredProperties(); track property.id) {

        <property-card
          [property]="property"
          (deleted)="deleteProperty($event)">
        </property-card>

      }

    </div>

  }

</section>